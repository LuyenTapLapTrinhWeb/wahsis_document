<div class="ibox-content">
    <div class="panel-body row" style="padding-top:0px">
        <div class="col-md-1 row show_tree text_doc1" style="padding-right: 0px;" ng-if='is_hide'>
            <div ng-click="thaydoi()" class='tree_text text_doc'>
                {{"FLOOR_PLAN"|translate}}
            </div>
        </div>
        <div class="col-md-3 row tree_left an" style="padding-right: 0px;">
            <div class="col-md-12" style="height: 25px;    background: #1eb293;color: white;    padding-top: 3px;padding-left: 25px;">
                <div class="row">
                    {{"FLOOR_PLAN"|translate}}
                    <div ng-click="thaydoi()" style="position: absolute;    right: 2%; top: 10%;">
                        <i class="fa fa-times" aria-hidden="true" style="transform: rotate(90deg)"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="row">
                    <div class="well" style="padding-bottom: 0px ;margin-bottom: 5px!important;padding-left: 0px;overflow-y: scroll;height: 426px">
                        <div>
                        </div>
                        <div id="jstree" js-tree="treeConfig" ng-model="treeData" tree="treeInstance">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="well content_right col-md-12 col-xs-12">
            <div class="row">
                <div class="col-xs-12 col-md-6">
                    <div class="form-group row">
                        <label class="col-xs-12 col-md-4">
                            {{"VIEW_APARTMENT"|translate}}
                        </label>
                        <div class="col-xs-12 col-md-8">
                            <select chosen="" class="form-control" id="states" ng-model="view_id" ng-options="x.master_data_id as x.master_data_name for x in viewList"
                                type="text">
                                <option value="">
                                    {{"ALL"|translate}}
                                </option>
                                <option disabled></option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6">
                    <div class="form-group row">
                        <label class="col-xs-12 col-md-4">{{"FROM_DAY"|translate}}</label>
                        <div class="col-xs-12 col-md-8">
                            <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" placeholder="dd-MM-yyyy" id="fromDate"
                                ng-model="fromDate">

                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6">
                    <div class="form-group row">
                        <label class="col-xs-12 col-md-4">{{"TO_DAY"|translate}}</label>
                        <div class="col-xs-12 col-md-8">
                            <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" placeholder="dd-MM-yyyy" id="toDate" ng-model="toDate">
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6">
                    <div class="form-group row">
                        <label class="col-xs-12 col-md-4">{{"total_report"|translate}}</label>
                        <div class="col-xs-12 col-md-8">
                            <input type="radio" checked="" ng-change="changeType()" ng-model="report_type_id" value="total" style="float: left" class="ng-pristine ng-untouched ng-valid ng-not-empty"
                                name="9">
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6">
                    <div class="form-group row">
                        <label class="col-xs-12 col-md-4">{{"DETAIL"|translate}}</label>
                        <div class="col-xs-12 col-md-8">
                            <input type="radio" ng-change="changeType()" ng-model="report_type_id" value="detail" style="float: left" class="ng-pristine ng-untouched ng-valid ng-not-empty"
                                name="10">
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12">
                    <button class="btn btn-primary pull-right" data-ng-click="search()" ng-disabled="allow[1] === false" type="button">
                        <i class="fa fa-search"></i> {{"SEARCH"|translate}}
                    </button>
                </div>
                <div class='col-md-12'>
                    <div class="pull-right " id="div_paging">
                        <button ng-disabled="currentPage1 == 1" ng-click="load_data(4)" class="btn btn-default btn-xs black">
                            <i class="ion-arrow-left-a"></i>
                            {{"FIRST"|translate}}
                        </button>
                        <button ng-disabled="currentPage1 == 1" ng-click="load_data(1)" class="btn btn-default btn-xs black">
                            <i class="ion-chevron-left"></i>
                            {{"PREVIOUS"|translate}}
                        </button>
                        {{"ITEM_PER_PAGE"|translate}}:
                        <select id="page" ng-model="item_per_page" ng-change="item_per_page2()" ng-options="x.value as x.text for x in item_per_page1"></select>
                        {{"PAGE"|translate}}
                        <select id="page" class="page" ng-model="currentPage1" ng-change="load_data(2)" ng-options="x.val as x.test for x in list_page"></select>
                        {{"TOTAL_PAGE"|translate}}: {{total_page}}
                        <button ng-disabled="currentPage1 == total_page || total_page == 0" ng-click="load_data(3)" class="btn btn-default btn-xs black">
                            <i class="ion-chevron-right"></i>
                            {{"NEXT"|translate}}
                        </button>
                        <button ng-disabled="currentPage1 == total_page || total_page == 0" ng-click="load_data(5)" class="btn btn-default btn-xs black">
                            <i class="ion-arrow-right-a"></i>
                            {{"LAST"|translate}}
                        </button> | {{"TOTAL_RESULT"|translate}}: {{total_row}}
                    </div>
                </div>
                <div class='col-md-12' style="overflow-x: auto" ng-if="report_type_id === 'total'">
                    <div class="table-responsive" style="overflow-x: inherit;height: 230px">
                        <table data-page-length='{{page_length}}' datatable="ng" dt-options="dtOptions" class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 5%">
                                        {{"STT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"VIEW_APARTMENT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"TOTAL_AMOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"DISCOUNT_AMOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"TOTAL_AFTER_DISCOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"MAINTENANCE_FEE"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"VAT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"PROMOTION_AMOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"GRAND_TOTAL"|translate}}
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="details" id="house_keeping_list_{{itemList.room_id}}" ng-click="house_keeping_click(itemList.room_id, itemList)"
                                    ng-dblclick="house_keeping_dbclick(itemList)" ng-repeat="itemList in top_sales_room_view_list">
                                    <td>
                                        {{$index + 1}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: left">
                                        {{itemList.view_name}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: right">
                                        {{itemList.total_amount}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: right">
                                        {{itemList.discount_amount}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: right">
                                        {{itemList.total_amount_after_discount}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: right">
                                        {{itemList.maintenance_fee}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: right">
                                        {{itemList.vat}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: right">
                                        {{itemList.promotion_amount}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: right">
                                        {{itemList.grand_total}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class='col-md-12' style="overflow-x: auto" ng-if="report_type_id === 'detail'">
                    <div class="table-responsive" style="overflow-x: inherit;">
                        <table data-page-length='{{page_length}}' datatable="ng" dt-options="dtOptions" class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 5%">
                                        {{"STT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"VIEW_APARTMENT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"ROOM_TYPE_NAME"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"ROOM_NAME"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"CONTRACT_NO"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"EFFECTIVE_DATE_CONTRACT1"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"SELLER"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"AGENT_NAME"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"ACREAGE"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"AMOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"TOTAL_AMOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"DISCOUNT_AMOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"TOTAL_AFTER_DISCOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"MAINTENANCE_FEE"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"VAT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"PROMOTION_AMOUNT"|translate}}
                                    </th>
                                    <th style="white-space: nowrap;">
                                        {{"GRAND_TOTAL"|translate}}
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="details" ng-repeat="itemList in top_sales_room_view_list">
                                    <td>
                                        {{$index + 1}}
                                    </td>
                                    <td style="white-space: nowrap;">
                                        {{itemList.view_name}}
                                    </td>
                                    <td style="white-space: nowrap;text-align: right">
                                        {{itemList.room_type_name}}
                                    </td>
                                    <td style="white-space: nowrap; text-align: left">{{itemList.room_name}}</td>
                                    <td style="white-space: nowrap; text-align: left">{{itemList.contract_no}}</td>
                                    <td style="white-space: nowrap; text-align: center">{{itemList.effective_date}}</td>
                                    <td style="white-space: nowrap; text-align: left">{{itemList.seller_name}}</td>
                                    <td style="white-space: nowrap; text-align: left">{{itemList.agent_name}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.acreage}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.amount}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.total_amount}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.discount_amount}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.total_amount_after_discount}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.maintenance_fee}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.vat}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.promotion_amount}}</td>
                                    <td style="white-space: nowrap; text-align: right">{{itemList.grand_total}}</td>
                                </tr>
                                <!-- Total -->
                                <tr>
                                    <td style="white-space: nowrap;text-align: right;" colspan="7">
                                        <b>{{"TOTAL_SALE "|translate}}</b>
                                    </td>
                                    <td style="white-space: nowrap;text-align: right;">
                                        <b>{{total_sale}}</b>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="table-responsive " id="bill " style="display: none ">


        <table id="table_company " border="0 " style="width: 100% ">

            <tr>
                <td style="width: 25%;text-align: center; vertical-align: top; " rowspan="5 ">
                    <img ng-src={{logo}} style="width: 115px; height: 90px; object-fit: scale-down ">
                </td>
                <td style="width: 10%;text-align: left; ">{{"COMPANY "|translate}}</td>
                <td style="width: 60%;text-align: left; "> {{branch_detail.company_name}}</td>

            </tr>

            <tr>
                <td style="width: 10%;text-align: left;vertical-align: top; ">{{"ADDRESS "|translate}}:</td>
                <td style="width: 60%;text-align: left; "> {{branch_detail.address}}</td>
            </tr>
            <tr>
                <td style="width: 10%;text-align: left; ">{{"PHONE "|translate}}:</td>
                <td style="width: 60%;text-align: left; "> {{branch_detail.phone1}}</td>
            </tr>
            <tr>
                <td style="width: 10%;text-align: left; ">{{"WEBSITE "|translate}}:</td>
                <td style="width: 60%;text-align: left; "> {{branch_detail.website}}</td>
            </tr>
        </table>
        <div style="text-align: center;width: 100% " class="text_print ">
            <b style="font-size: 20px;text-transform: uppercase; ">{{"top_sale_type_apartment "|translate}}</b>
        </div>

        <table border="1 " style="width: 100%;border-collapse: collapse; border: 1px solid black; " ng-if="report_type_id==='total' ">
            <thead>
                <tr>

                    <th style="white-space: nowrap; ">{{"STT "|translate}}</th>

                    <th style="white-space: nowrap; ">{{"APARTMENT_TYPE "|translate}}</th>

                    <th style="white-space: nowrap; ">{{"TOTAL_SALE "|translate}}</th>

                </tr>
            </thead>
            <tbody>

                <tr ng-repeat="itemList in topRoomTypeList " class="details ">
                    <td style="white-space: nowrap; ">{{itemList.stt}}</td>
                    <td style="white-space: nowrap; ">{{itemList.room_type_name}}</td>
                    <td style="white-space: nowrap;text-align: right ">{{itemList.total_sales}}</td>
                </tr>
                <!-- Total -->
                <tr>
                    <td style="white-space: nowrap;text-align: right; " " colspan="2 ">
                                            <b>{{"tongcong "|translate}}</b>
                                        </td>
                                        <td style="white-space: nowrap;text-align: right; " ">
                        <b>{{total_sale}}</b>
                    </td>
                </tr>
            </tbody>
        </table>


        <table border="1 " style="width: 100%;border-collapse: collapse; border: 1px solid black; " ng-if="report_type_id==='detail' ">

        </table>
        <!-- <div > -->
        <!-- <b><span class="label label-default ">{{"TOTAL_SALE "|translate}} : {{total_sale}}</span></b> -->
        <!-- </div> -->
    </div>
</div>